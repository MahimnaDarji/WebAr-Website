<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WebAR Ad Builder | Step 1</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="./builder.css" />
</head>

<body>
  <header class="appHeader">
    <div class="brand">
      <div class="brandTitle">WebAR Ad Builder</div>
      <div class="brandSub">Build a print ad that plays video on scan</div>
    </div>

    <div class="headerMeta">
      <span class="tag">Builder</span>
    </div>
  </header>

  <main class="container">
    <section class="stepBar" aria-label="Build steps">
      <a class="step" href="./builder.html">
        <div class="dot"></div>
        <div class="label">
          <div class="title">Step 1</div>
          <div class="desc">Artwork</div>
        </div>
      </a>

      <a class="step" href="./step2page.html">
        <div class="dot"></div>
        <div class="label">
          <div class="title">Step 2</div>
          <div class="desc">Tracking</div>
        </div>
      </a>

      <a class="step" href="./step3page.html">
        <div class="dot"></div>
        <div class="label">
          <div class="title">Step 3</div>
          <div class="desc">Video</div>
        </div>
      </a>

      <a class="step" href="./step4page.html">
        <div class="dot"></div>
        <div class="label">
          <div class="title">Step 4</div>
          <div class="desc">Preview</div>
        </div>
      </a>

      <a class="step" href="./step5page.html">
        <div class="dot"></div>
        <div class="label">
          <div class="title">Step 5</div>
          <div class="desc">QR</div>
        </div>
      </a>

      <a class="step" href="./step6page.html">
        <div class="dot"></div>
        <div class="label">
          <div class="title">Step 6</div>
          <div class="desc">Export</div>
        </div>
      </a>
    </section>

    <section class="layout">
      <!-- LEFT -->
      <section class="panel">
        <div class="panelHead">
          <h2>Upload print artwork</h2>
          <p class="muted">
            Upload the exact image that will be printed. This image is what the camera will track.
          </p>
        </div>

        <div class="uploadBlock">
          <label class="fileLabel" for="fileInput">
            <span class="fileLabelTitle">Choose file</span>
            <span class="fileLabelHint">JPG or PNG</span>
          </label>
          <input id="fileInput" class="fileInput" type="file" accept="image/png,image/jpeg" />
        </div>

        <div class="fileMeta">
          <div class="metaRow">
            <span class="metaKey">File</span>
            <span id="metaFile" class="metaVal">None</span>
          </div>
          <div class="metaRow">
            <span class="metaKey">Resolution</span>
            <span id="metaRes" class="metaVal">-</span>
          </div>
          <div class="metaRow">
            <span class="metaKey">Size</span>
            <span id="metaSize" class="metaVal">-</span>
          </div>
          <div class="metaRow">
            <span class="metaKey">Format</span>
            <span id="metaType" class="metaVal">-</span>
          </div>
        </div>

        <div class="actions">
          <button id="analyzeBtn" class="btn primary" disabled>Analyze artwork</button>
          <button id="clearBtn" class="btn secondary" disabled>Remove</button>
        </div>

        <div id="status" class="status">No file selected.</div>

        <div class="note muted">
          If this score is weak, tracking may fail on real print. Fix the artwork before you move forward.
        </div>
      </section>

      <!-- RIGHT -->
      <section class="panel">
        <div class="panelHead">
          <h2>Preview and tracking feedback</h2>
          <p class="muted">
            We estimate tracking reliability using sharpness, contrast, and feature richness.
          </p>
        </div>

        <div class="previewBox">
          <img id="previewImg" alt="Artwork preview" />
          <div id="emptyPreview" class="emptyPreview">Preview will appear here</div>
        </div>

        <div class="scoreWrap">
          <div class="scoreCard">
            <div class="scoreLabel">Tracking score</div>
            <div id="scoreValue" class="scoreValue">-</div>
            <div id="scoreText" class="scoreText muted">Upload an image to score it.</div>
          </div>

          <div class="barCard">
            <div class="barTrack">
              <div id="meterFill" class="barFill" style="width:0%"></div>
            </div>
            <div class="barLegend muted">
              <span>Weak</span>
              <span>Okay</span>
              <span>Strong</span>
            </div>
          </div>
        </div>

        <div class="suggestWrap">
          <h3>Warnings and suggestions</h3>
          <ul id="suggestions" class="suggestList">
            <li class="muted">No analysis yet.</li>
          </ul>
        </div>

        <div class="actions">
          <button id="continueBtn" class="btn primary" disabled>Continue to Step 2</button>
        </div>

        <div class="note muted">
          Step 2 generates tracking data from this artwork.
        </div>
      </section>
    </section>
  </main>

  <!-- IMPORTANT: nav.js must load BEFORE page-specific JS -->
  <script src="./nav.js"></script>
  <script src="./builder.js"></script>
</body>
</html>
